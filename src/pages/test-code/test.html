<ion-header>
  <ion-navbar>
    <ion-title>{{ checklistName }}</ion-title>
  </ion-navbar>
</ion-header>
<ion-content>
  <ion-grid>
    <ion-row *ngFor="let section of checklistInfo['sections']">

      <!--<ion-col width-10><div class="progressBar" [ngClass]="{'greenBar': +status>=section.section_stage, 'height-{{ propertyInfoHeight }}: section.section_type=='Checklist Boolean'}'" ></div></ion-col>-->
      <ion-col width-10><div class="progressBar" [ngClass]="{'greenBar': +status>=section.section_stage}" ></div></ion-col>
      <ion-col width-10 class="text-right">{{ section.section_stage }}.</ion-col>
      <ion-col width-80>

        <ion-row *ngIf="section.section_type == 'Check-In'">
          <ion-col width-70>
            Check In
          </ion-col>
          <ion-col width-10>
            <ion-icon class="green-tick" name="checkmark"></ion-icon>
          </ion-col>
        </ion-row>

        <!-- special case for property info -->

        <ion-row *ngIf="section.section_type == 'Checklist Boolean'">
          <ion-col width-60>
            {{ section.section_name }}
          </ion-col>
          <ion-col width-20 class="colToggle">
            <ion-toggle [disabled]="!+status>=checklistBoolStage || checklistBool" [(ngModel)]="isToggled" (ionChange)="completeClean()" color="ptkgreen" class="toggle" mode="ios"></ion-toggle>
          </ion-col>
          <ion-col width-20>
            <ion-icon *ngIf="+status>=checklistBoolStage" class="green-tick" name="checkmark"></ion-icon>
          </ion-col>
        </ion-row>

        <ion-row *ngIf="section.section_type == 'Check-Out'">
          <ion-col width-60>
            Check Out
          </ion-col>
          <ion-col width-20 class="colToggle">
            <ion-toggle [disabled]="!+status>=checkOutStage || checkOut" [(ngModel)]="checkOut" (ionChange)="toggleCheckOut()" color="ptkgreen" class="toggle" mode="ios"></ion-toggle>
          </ion-col>
          <ion-col width-20>
            <ion-icon *ngIf="+status>=checkOutStage" class="green-tick" name="checkmark"></ion-icon>
          </ion-col>
        </ion-row>

        <ion-row *ngIf="['Check-In', 'Property Info', 'Checklist Boolean', 'Check-Out'].indexOf(section.section_type) == -1">    
          <ion-col width-70>
            <button class="section-button" (click)="redirectToSection(section)">{{ section.section_name }}</button>
          </ion-col>
          <ion-col width-10>
            <ion-icon *ngIf="+status>=section.section_stage" class="green-tick" name="checkmark"></ion-icon>
          </ion-col>
        </ion-row>

      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

